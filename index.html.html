<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StyleMatch - MAM ASSUR ET MULTI SERVICES</title>
    <meta name="description" content="Plateforme d'assurance intelligente en C√¥te d'Ivoire">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .animate-bounce-slow {
            animation: bounce 2s infinite;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <script>
        // Application StyleMatch Compl√®te
        const App = {
            currentPage: 'home',
            selectedInsurance: null,
            userRole: 'client',
            quote: null,
            
            // Donn√©es de formulaire
            autoForm: {
                marque: '', modele: '', annee: '', puissanceFiscale: '5',
                usage: 'personnel', duree: '12', formule: 'tiers_simple',
                age: '', anciennetePermis: '', bonusMalus: '100'
            },
            
            santeForm: {
                typeCouverture: 'individuelle', nombreBeneficiaires: '1',
                ageAssure: '', formule: 'basique', duree: '12',
                maladiesChroniques: 'non'
            },
            
            habitationForm: {
                typeLogement: 'appartement', superficie: '', valeurBiens: '',
                zone: 'urbaine', formule: 'basique', duree: '12',
                systemeSecurite: 'non'
            },
            
            voyageForm: {
                destination: '', duree: '', nombreVoyageurs: '1',
                formule: 'basique', activitesRisque: 'non'
            },
            
            subscriptionData: {
                nom: '', prenom: '', telephone: '', email: '', adresse: ''
            },
            
            // Types d'assurance
            insuranceTypes: [
                {
                    id: 'auto', name: 'Assurance Auto', icon: 'üöó', color: 'blue',
                    description: 'Protection compl√®te pour votre v√©hicule',
                    features: ['Tiers simple', 'Tiers complet', 'Tous risques', 'Assistance 24/7']
                },
                {
                    id: 'sante', name: 'Assurance Sant√©', icon: '‚ù§Ô∏è', color: 'red',
                    description: 'Couverture m√©dicale pour vous et votre famille',
                    features: ['Hospitalisation', 'Soins ambulatoires', 'Maternit√©', 'Pharmacie']
                },
                {
                    id: 'habitation', name: 'Assurance Habitation', icon: 'üè†', color: 'green',
                    description: 'Prot√©gez votre domicile et vos biens',
                    features: ['Incendie', 'Vol', 'D√©g√¢ts des eaux', 'RC']
                },
                {
                    id: 'voyage', name: 'Assurance Voyage', icon: '‚úàÔ∏è', color: 'purple',
                    description: 'Voyagez l\'esprit tranquille',
                    features: ['Annulation', 'Rapatriement', 'Bagages', 'Assistance']
                }
            ],
            
            // Accessoires
            accessories: [
                { name: 'Extincteur', price: '15 000 FCFA', icon: 'üßØ' },
                { name: 'Trousse de secours', price: '8 000 FCFA', icon: 'ü©π' },
                { name: 'Gilet de s√©curit√©', price: '3 500 FCFA', icon: 'ü¶∫' },
                { name: 'Triangle', price: '5 000 FCFA', icon: '‚ö†Ô∏è' },
                { name: 'C√¢bles d√©marrage', price: '12 000 FCFA', icon: 'üîå' },
                { name: 'Compresseur', price: '25 000 FCFA', icon: 'üí®' }
            ],
            
            // Devis simul√©s pour admin
            savedQuotes: [
                { id: 1, client: 'KOUASSI Jean', type: 'Auto', montant: 125000, statut: 'En attente', date: '2026-01-28' },
                { id: 2, client: 'TOURE Aminata', type: 'Sant√©', montant: 85000, statut: 'Approuv√©', date: '2026-01-29' },
                { id: 3, client: 'DIALLO Ibrahim', type: 'Habitation', montant: 95000, statut: 'En attente', date: '2026-01-30' },
                { id: 4, client: 'N\'GUESSAN Marie', type: 'Voyage', montant: 45000, statut: 'Souscrit', date: '2026-01-31' }
            ],
            
            // Calculs de tarifs
            calculateAutoQuote() {
                let basePrice = 0;
                switch (this.autoForm.formule) {
                    case 'tiers_simple': basePrice = 45000; break;
                    case 'tiers_complet': basePrice = 85000; break;
                    case 'tous_risques': basePrice = 150000; break;
                }
                
                const puissance = parseInt(this.autoForm.puissanceFiscale) || 5;
                basePrice *= (1 + (puissance - 5) * 0.1);
                
                if (this.autoForm.usage === 'professionnel') basePrice *= 1.3;
                
                const age = new Date().getFullYear() - parseInt(this.autoForm.annee);
                if (age > 10) basePrice *= 0.85;
                else if (age < 3) basePrice *= 1.15;
                
                const bonusMalus = parseInt(this.autoForm.bonusMalus) / 100;
                basePrice *= bonusMalus;
                
                const ageDriver = parseInt(this.autoForm.age);
                if (ageDriver < 25) basePrice *= 1.4;
                else if (ageDriver > 60) basePrice *= 1.2;
                
                const duration = parseInt(this.autoForm.duree);
                const finalPrice = (basePrice / 12) * duration;
                
                this.quote = {
                    type: 'auto',
                    montantAnnuel: Math.round(basePrice),
                    montantTotal: Math.round(finalPrice),
                    duree: duration,
                    formule: this.autoForm.formule,
                    details: `${this.autoForm.marque} ${this.autoForm.modele} (${this.autoForm.annee})`,
                    reduction: bonusMalus < 1 ? `${((1 - bonusMalus) * 100).toFixed(0)}% de bonus` : null
                };
                
                this.currentPage = 'quote';
                this.render();
            },
            
            calculateSanteQuote() {
                let basePrice = 0;
                switch (this.santeForm.formule) {
                    case 'basique': basePrice = 60000; break;
                    case 'intermediaire': basePrice = 120000; break;
                    case 'premium': basePrice = 200000; break;
                }
                
                const nbBenef = parseInt(this.santeForm.nombreBeneficiaires) || 1;
                basePrice *= nbBenef * 0.8;
                
                const age = parseInt(this.santeForm.ageAssure) || 30;
                if (age > 60) basePrice *= 1.5;
                else if (age < 25) basePrice *= 0.9;
                
                if (this.santeForm.maladiesChroniques === 'oui') basePrice *= 1.3;
                
                const duration = parseInt(this.santeForm.duree);
                const finalPrice = (basePrice / 12) * duration;
                
                this.quote = {
                    type: 'sante',
                    montantAnnuel: Math.round(basePrice),
                    montantTotal: Math.round(finalPrice),
                    duree: duration,
                    formule: this.santeForm.formule,
                    details: `Couverture ${this.santeForm.typeCouverture} - ${nbBenef} b√©n√©ficiaire(s)`,
                    reduction: nbBenef > 3 ? '15% r√©duction famille nombreuse' : null
                };
                
                this.currentPage = 'quote';
                this.render();
            },
            
            calculateHabitationQuote() {
                let basePrice = 0;
                switch (this.habitationForm.formule) {
                    case 'basique': basePrice = 40000; break;
                    case 'confort': basePrice = 75000; break;
                    case 'premium': basePrice = 120000; break;
                }
                
                const superficie = parseInt(this.habitationForm.superficie) || 50;
                basePrice *= (1 + (superficie - 50) * 0.005);
                
                const valeur = parseInt(this.habitationForm.valeurBiens) || 5000000;
                basePrice *= (1 + (valeur / 10000000));
                
                if (this.habitationForm.zone === 'rurale') basePrice *= 0.85;
                if (this.habitationForm.systemeSecurite === 'oui') basePrice *= 0.9;
                
                const duration = parseInt(this.habitationForm.duree);
                const finalPrice = (basePrice / 12) * duration;
                
                this.quote = {
                    type: 'habitation',
                    montantAnnuel: Math.round(basePrice),
                    montantTotal: Math.round(finalPrice),
                    duree: duration,
                    formule: this.habitationForm.formule,
                    details: `${this.habitationForm.typeLogement} - ${superficie}m¬≤`,
                    reduction: this.habitationForm.systemeSecurite === 'oui' ? '10% avec syst√®me de s√©curit√©' : null
                };
                
                this.currentPage = 'quote';
                this.render();
            },
            
            calculateVoyageQuote() {
                let basePrice = 0;
                switch (this.voyageForm.formule) {
                    case 'basique': basePrice = 25000; break;
                    case 'confort': basePrice = 45000; break;
                    case 'premium': basePrice = 75000; break;
                }
                
                const duree = parseInt(this.voyageForm.duree) || 7;
                basePrice *= (duree / 7);
                
                const nbVoyageurs = parseInt(this.voyageForm.nombreVoyageurs) || 1;
                basePrice *= nbVoyageurs;
                
                if (this.voyageForm.activitesRisque === 'oui') basePrice *= 1.4;
                
                this.quote = {
                    type: 'voyage',
                    montantAnnuel: 0,
                    montantTotal: Math.round(basePrice),
                    duree: duree,
                    formule: this.voyageForm.formule,
                    details: `Voyage vers ${this.voyageForm.destination} - ${nbVoyageurs} voyageur(s)`,
                    reduction: null
                };
                
                this.currentPage = 'quote';
                this.render();
            },
            
            // Rendu HTML
            render() {
                const app = document.getElementById('app');
                
                if (this.currentPage === 'home') {
                    app.innerHTML = this.renderHomePage();
                } else if (this.currentPage === 'insurance-selection') {
                    app.innerHTML = this.renderInsuranceSelection();
                } else if (this.currentPage === 'auto-form') {
                    app.innerHTML = this.renderAutoForm();
                } else if (this.currentPage === 'sante-form') {
                    app.innerHTML = this.renderSanteForm();
                } else if (this.currentPage === 'habitation-form') {
                    app.innerHTML = this.renderHabitationForm();
                } else if (this.currentPage === 'voyage-form') {
                    app.innerHTML = this.renderVoyageForm();
                } else if (this.currentPage === 'quote') {
                    app.innerHTML = this.renderQuote();
                } else if (this.currentPage === 'subscription') {
                    app.innerHTML = this.renderSubscription();
                } else if (this.currentPage === 'admin-dashboard') {
                    app.innerHTML = this.renderAdminDashboard();
                }
                
                this.attachEventListeners();
            },
            
            renderHomePage() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <h1 class="text-4xl font-bold mb-2">MAM ASSUR ET MULTI SERVICES</h1>
                                        <p class="text-xl opacity-90">Votre partenaire assurance en C√¥te d'Ivoire</p>
                                        <p class="text-sm mt-2 opacity-75">Dirig√©e par TOURE Mariam</p>
                                    </div>
                                    <button onclick="app.toggleRole()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition">
                                        ${this.userRole === 'client' ? 'üë§ Mode Admin' : 'üë• Mode Client'}
                                    </button>
                                </div>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="bg-white rounded-2xl shadow-xl p-8 mb-8 animate-fadeIn">
                                <h2 class="text-3xl font-bold text-gray-800 mb-4">Bienvenue sur StyleMatch üéØ</h2>
                                <p class="text-gray-600 text-lg mb-6">
                                    Obtenez votre devis d'assurance en quelques clics ! Notre plateforme vous guide pour trouver la meilleure protection.
                                </p>
                                <button onclick="app.goToPage('insurance-selection')" 
                                    class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition">
                                    üìä Obtenir un Devis
                                </button>
                            </div>

                            <h3 class="text-2xl font-bold text-gray-800 mb-6">Nos Assurances</h3>
                            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                                ${this.insuranceTypes.map(ins => `
                                    <div onclick="app.selectInsurance('${ins.id}')" 
                                        class="bg-white rounded-xl shadow-lg p-6 hover:shadow-2xl transition cursor-pointer transform hover:scale-105 animate-fadeIn">
                                        <div class="text-6xl mb-4 text-center">${ins.icon}</div>
                                        <h4 class="text-xl font-bold text-gray-800 mb-2 text-center">${ins.name}</h4>
                                        <p class="text-gray-600 text-sm mb-4 text-center">${ins.description}</p>
                                        <ul class="space-y-1">
                                            ${ins.features.map(f => `
                                                <li class="text-sm text-gray-500 flex items-center gap-2">
                                                    <span class="text-green-500">‚úì</span> ${f}
                                                </li>
                                            `).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>

                            <h3 class="text-2xl font-bold text-gray-800 mb-6">Accessoires Auto Recommand√©s</h3>
                            <div class="grid md:grid-cols-3 lg:grid-cols-6 gap-4">
                                ${this.accessories.map(acc => `
                                    <div class="bg-white rounded-xl shadow-lg p-4 hover:shadow-2xl transition text-center">
                                        <div class="text-5xl mb-2">${acc.icon}</div>
                                        <h4 class="text-sm font-bold text-gray-800 mb-1">${acc.name}</h4>
                                        <p class="text-blue-600 font-bold text-xs mb-3">${acc.price}</p>
                                        <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 rounded-lg hover:shadow-lg transition text-xs">
                                            üõí Ajouter
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderInsuranceSelection() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <button onclick="app.goToPage('home')" class="text-white mb-4 hover:underline">‚Üê Retour √† l'accueil</button>
                                <h1 class="text-3xl font-bold">Choisissez votre assurance</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                                ${this.insuranceTypes.map(ins => `
                                    <div onclick="app.selectInsurance('${ins.id}')" 
                                        class="bg-white rounded-xl shadow-lg p-8 cursor-pointer transform transition hover:shadow-2xl hover:scale-105">
                                        <div class="text-8xl text-center mb-4">${ins.icon}</div>
                                        <h3 class="text-2xl font-bold text-gray-800 mb-2 text-center">${ins.name}</h3>
                                        <p class="text-gray-600 mb-4 text-center">${ins.description}</p>
                                        <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition">
                                            Obtenir un devis ‚Üí
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderAutoForm() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <button onclick="app.goToPage('insurance-selection')" class="text-white mb-4 hover:underline">‚Üê Retour</button>
                                <h1 class="text-3xl font-bold flex items-center gap-3">üöó Assurance Auto - Devis personnalis√©</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Informations sur votre v√©hicule</h2>
                                
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Marque du v√©hicule</label>
                                            <input type="text" id="autoMarque" value="${this.autoForm.marque}" 
                                                placeholder="Ex: Toyota, Peugeot..." 
                                                class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Mod√®le</label>
                                            <input type="text" id="autoModele" value="${this.autoForm.modele}" 
                                                placeholder="Ex: Corolla..." 
                                                class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                                        </div>
                                    </div>

                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Ann√©e</label>
                                            <input type="number" id="autoAnnee" value="${this.autoForm.annee}" 
                                                placeholder="2020" 
                                                class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Puissance (CV)</label>
                                            <input type="number" id="autoPuissance" value="${this.autoForm.puissanceFiscale}" 
                                                class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Usage</label>
                                            <select id="autoUsage" class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                                                <option value="personnel" ${this.autoForm.usage === 'personnel' ? 'selected' : ''}>Personnel</option>
                                                <option value="professionnel" ${this.autoForm.usage === 'professionnel' ? 'selected' : ''}>Professionnel</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Formule d'assurance</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            ${['tiers_simple', 'tiers_complet', 'tous_risques'].map(f => `
                                                <div onclick="app.autoForm.formule = '${f}'; app.render()" 
                                                    class="p-4 border-2 rounded-lg cursor-pointer ${this.autoForm.formule === f ? 'border-blue-500 bg-blue-50' : 'border-gray-300'}">
                                                    <div class="font-bold">${f.replace('_', ' ')}</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>

                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">√Çge conducteur</label>
                                            <input type="number" id="autoAge" value="${this.autoForm.age}" 
                                                placeholder="35" 
                                                class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Anciennet√© permis</label>
                                            <input type="number" id="autoAnciennete" value="${this.autoForm.anciennetePermis}" 
                                                placeholder="10" 
                                                class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Bonus/Malus (%)</label>
                                            <input type="number" id="autoBonusMalus" value="${this.autoForm.bonusMalus}" 
                                                class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                    </div>

                                    <button onclick="app.submitAutoForm()" 
                                        class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                                        üìä Calculer mon devis
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderSanteForm() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-red-600 to-pink-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <button onclick="app.goToPage('insurance-selection')" class="text-white mb-4 hover:underline">‚Üê Retour</button>
                                <h1 class="text-3xl font-bold flex items-center gap-3">‚ù§Ô∏è Assurance Sant√©</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Informations sur votre couverture</h2>
                                
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Type de couverture</label>
                                            <select id="santeType" class="w-full px-4 py-3 border rounded-lg">
                                                <option value="individuelle">Individuelle</option>
                                                <option value="familiale">Familiale</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Nombre de b√©n√©ficiaires</label>
                                            <input type="number" id="santeNombre" value="${this.santeForm.nombreBeneficiaires}" 
                                                min="1" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                    </div>

                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">√Çge de l'assur√© principal</label>
                                            <input type="number" id="santeAge" value="${this.santeForm.ageAssure}" 
                                                class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Maladies chroniques</label>
                                            <select id="santeMaladies" class="w-full px-4 py-3 border rounded-lg">
                                                <option value="non">Non</option>
                                                <option value="oui">Oui</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Formule de couverture</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            ${['basique', 'intermediaire', 'premium'].map(f => `
                                                <div onclick="app.santeForm.formule = '${f}'; app.render()" 
                                                    class="p-4 border-2 rounded-lg cursor-pointer ${this.santeForm.formule === f ? 'border-red-500 bg-red-50' : 'border-gray-300'}">
                                                    <div class="font-bold capitalize">${f}</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>

                                    <button onclick="app.submitSanteForm()" 
                                        class="w-full bg-gradient-to-r from-red-500 to-pink-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                                        üìä Calculer mon devis
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderHabitationForm() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-green-600 to-teal-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <button onclick="app.goToPage('insurance-selection')" class="text-white mb-4 hover:underline">‚Üê Retour</button>
                                <h1 class="text-3xl font-bold flex items-center gap-3">üè† Assurance Habitation</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Informations sur votre logement</h2>
                                
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Type de logement</label>
                                            <select id="habitationType" class="w-full px-4 py-3 border rounded-lg">
                                                <option value="appartement">Appartement</option>
                                                <option value="maison">Maison</option>
                                                <option value="villa">Villa</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Superficie (m¬≤)</label>
                                            <input type="number" id="habitationSuperficie" value="${this.habitationForm.superficie}" 
                                                class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                    </div>

                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Valeur des biens (FCFA)</label>
                                            <input type="number" id="habitationValeur" value="${this.habitationForm.valeurBiens}" 
                                                placeholder="5000000" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Syst√®me de s√©curit√©</label>
                                            <select id="habitationSecurite" class="w-full px-4 py-3 border rounded-lg">
                                                <option value="non">Non</option>
                                                <option value="oui">Oui</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Formule</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            ${['basique', 'confort', 'premium'].map(f => `
                                                <div onclick="app.habitationForm.formule = '${f}'; app.render()" 
                                                    class="p-4 border-2 rounded-lg cursor-pointer ${this.habitationForm.formule === f ? 'border-green-500 bg-green-50' : 'border-gray-300'}">
                                                    <div class="font-bold capitalize">${f}</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>

                                    <button onclick="app.submitHabitationForm()" 
                                        class="w-full bg-gradient-to-r from-green-500 to-teal-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                                        üìä Calculer mon devis
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderVoyageForm() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <button onclick="app.goToPage('insurance-selection')" class="text-white mb-4 hover:underline">‚Üê Retour</button>
                                <h1 class="text-3xl font-bold flex items-center gap-3">‚úàÔ∏è Assurance Voyage</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Informations sur votre voyage</h2>
                                
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Destination</label>
                                            <input type="text" id="voyageDestination" value="${this.voyageForm.destination}" 
                                                placeholder="France, USA..." class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Dur√©e (jours)</label>
                                            <input type="number" id="voyageDuree" value="${this.voyageForm.duree}" 
                                                placeholder="7" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                    </div>

                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Nombre de voyageurs</label>
                                            <input type="number" id="voyageNombre" value="${this.voyageForm.nombreVoyageurs}" 
                                                min="1" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Activit√©s √† risque</label>
                                            <select id="voyageRisque" class="w-full px-4 py-3 border rounded-lg">
                                                <option value="non">Non</option>
                                                <option value="oui">Oui (sports extr√™mes)</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Formule</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            ${['basique', 'confort', 'premium'].map(f => `
                                                <div onclick="app.voyageForm.formule = '${f}'; app.render()" 
                                                    class="p-4 border-2 rounded-lg cursor-pointer ${this.voyageForm.formule === f ? 'border-purple-500 bg-purple-50' : 'border-gray-300'}">
                                                    <div class="font-bold capitalize">${f}</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>

                                    <button onclick="app.submitVoyageForm()" 
                                        class="w-full bg-gradient-to-r from-purple-500 to-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                                        üìä Calculer mon devis
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderQuote() {
                const typeNames = {
                    auto: 'Assurance Auto',
                    sante: 'Assurance Sant√©',
                    habitation: 'Assurance Habitation',
                    voyage: 'Assurance Voyage'
                };
                
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <h1 class="text-3xl font-bold">Votre Devis Personnalis√©</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-2xl mx-auto">
                                <div class="bg-white rounded-2xl shadow-xl p-8 mb-6 animate-fadeIn">
                                    <div class="text-center mb-8">
                                        <div class="bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                                            <span class="text-5xl">‚úÖ</span>
                                        </div>
                                        <h2 class="text-2xl font-bold text-gray-800 mb-2">Devis calcul√© avec succ√®s !</h2>
                                        <p class="text-gray-600">${typeNames[this.quote.type]}</p>
                                    </div>

                                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl p-6 mb-6">
                                        <div class="text-center">
                                            <p class="text-lg mb-2">${this.quote.details}</p>
                                            <p class="text-5xl font-bold mb-2">${this.quote.montantTotal.toLocaleString()} FCFA</p>
                                            <p class="text-sm opacity-90">
                                                ${this.quote.type === 'voyage' ? 'Pour votre voyage' : `Pour ${this.quote.duree} mois de couverture`}
                                            </p>
                                            ${this.quote.reduction ? `
                                                <div class="mt-4 bg-white bg-opacity-20 rounded-lg py-2 px-4 inline-block">
                                                    <p class="text-sm font-semibold">‚ú® ${this.quote.reduction}</p>
                                                </div>
                                            ` : ''}
                                        </div>
                                    </div>

                                    <div class="flex gap-4 mb-6">
                                        <button onclick="alert('üìÑ Fonction de t√©l√©chargement PDF √† venir')" 
                                            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition">
                                            üì• T√©l√©charger PDF
                                        </button>
                                        <button onclick="app.goToPage('subscription')" 
                                            class="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-lg font-bold hover:shadow-lg transition">
                                            üìù Souscrire
                                        </button>
                                    </div>
                                </div>

                                <div class="bg-white rounded-2xl shadow-xl p-8">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4">Accessoires recommand√©s</h3>
                                    <div class="grid grid-cols-2 gap-4">
                                        ${this.accessories.slice(0, 4).map(acc => `
                                            <div class="border rounded-lg p-3 text-center">
                                                <div class="text-3xl mb-2">${acc.icon}</div>
                                                <h4 class="font-semibold text-sm">${acc.name}</h4>
                                                <p class="text-blue-600 font-bold text-sm">${acc.price}</p>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderSubscription() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50">
                        <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <h1 class="text-3xl font-bold">Finaliser votre souscription</h1>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-12">
                            <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Vos informations</h2>
                                
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Nom</label>
                                            <input type="text" id="subNom" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Pr√©nom(s)</label>
                                            <input type="text" id="subPrenom" class="w-full px-4 py-3 border rounded-lg">
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">T√©l√©phone</label>
                                        <input type="tel" id="subTel" placeholder="+225 XX XX XX XX XX" class="w-full px-4 py-3 border rounded-lg">
                                    </div>

                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Email</label>
                                        <input type="email" id="subEmail" class="w-full px-4 py-3 border rounded-lg">
                                    </div>

                                    <div class="bg-blue-50 rounded-lg p-6">
                                        <h4 class="font-bold text-gray-800 mb-3">üí≥ Mode de paiement</h4>
                                        <div class="space-y-3">
                                            <div class="flex items-center gap-3 p-3 border-2 border-blue-500 bg-white rounded-lg cursor-pointer">
                                                <input type="radio" name="payment" checked>
                                                <div>
                                                    <div class="font-semibold">Mobile Money</div>
                                                    <div class="text-sm text-gray-600">Orange, MTN, Moov</div>
                                                </div>
                                            </div>
                                            <div class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer">
                                                <input type="radio" name="payment">
                                                <div>
                                                    <div class="font-semibold">Virement bancaire</div>
                                                </div>
                                            </div>
                                            <div class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer">
                                                <input type="radio" name="payment">
                                                <div>
                                                    <div class="font-semibold">Carte bancaire</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6">
                                        <div class="flex justify-between items-center">
                                            <span class="font-semibold">Montant √† payer</span>
                                            <span class="text-3xl font-bold">${this.quote.montantTotal.toLocaleString()} FCFA</span>
                                        </div>
                                    </div>

                                    <button onclick="app.finalizeSubscription()" 
                                        class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-lg transition">
                                        ‚úÖ Valider et Payer
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            renderAdminDashboard() {
                return `
                    <div class="min-h-screen bg-gray-100">
                        <header class="bg-gray-900 text-white py-6 shadow-lg">
                            <div class="container mx-auto px-4">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <h1 class="text-3xl font-bold">Dashboard Administrateur</h1>
                                        <p class="text-sm opacity-75">MAM ASSUR - Gestion des devis</p>
                                    </div>
                                    <button onclick="app.toggleRole()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg">
                                        üë• Mode Client
                                    </button>
                                </div>
                            </div>
                        </header>

                        <div class="container mx-auto px-4 py-8">
                            <div class="grid md:grid-cols-4 gap-6 mb-8">
                                <div class="bg-white rounded-xl shadow-lg p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="bg-blue-100 p-3 rounded-lg">
                                            <span class="text-3xl">üìä</span>
                                        </div>
                                        <span class="text-green-600 text-sm font-semibold">+12%</span>
                                    </div>
                                    <h3 class="text-3xl font-bold text-gray-800">24</h3>
                                    <p class="text-gray-600">Devis ce mois</p>
                                </div>

                                <div class="bg-white rounded-xl shadow-lg p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="bg-green-100 p-3 rounded-lg">
                                            <span class="text-3xl">‚úÖ</span>
                                        </div>
                                        <span class="text-green-600 text-sm font-semibold">+8%</span>
                                    </div>
                                    <h3 class="text-3xl font-bold text-gray-800">18</h3>
                                    <p class="text-gray-600">Souscriptions</p>
                                </div>

                                <div class="bg-white rounded-xl shadow-lg p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="bg-purple-100 p-3 rounded-lg">
                                            <span class="text-3xl">üí∞</span>
                                        </div>
                                        <span class="text-green-600 text-sm font-semibold">+15%</span>
                                    </div>
                                    <h3 class="text-3xl font-bold text-gray-800">2,4M</h3>
                                    <p class="text-gray-600">Revenus FCFA</p>
                                </div>

                                <div class="bg-white rounded-xl shadow-lg p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <div class="bg-orange-100 p-3 rounded-lg">
                                            <span class="text-3xl">‚è∞</span>
                                        </div>
                                        <span class="text-orange-600 text-sm font-semibold">En attente</span>
                                    </div>
                                    <h3 class="text-3xl font-bold text-gray-800">6</h3>
                                    <p class="text-gray-600">√Ä traiter</p>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl shadow-lg p-6">
                                <h2 class="text-2xl font-bold text-gray-800 mb-6">Devis r√©cents</h2>
                                <div class="overflow-x-auto">
                                    <table class="w-full">
                                        <thead>
                                            <tr class="border-b-2 border-gray-200">
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">ID</th>
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Client</th>
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Type</th>
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Montant</th>
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Date</th>
                                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Statut</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${this.savedQuotes.map(q => `
                                                <tr class="border-b hover:bg-gray-50">
                                                    <td class="py-3 px-4">#${q.id}</td>
                                                    <td class="py-3 px-4 font-semibold">${q.client}</td>
                                                    <td class="py-3 px-4">
                                                        <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm">
                                                            ${q.type}
                                                        </span>
                                                    </td>
                                                    <td class="py-3 px-4 font-bold">${q.montant.toLocaleString()} FCFA</td>
                                                    <td class="py-3 px-4 text-gray-600">${q.date}</td>
                                                    <td class="py-3 px-4">
                                                        <span class="px-3 py-1 rounded-full text-sm ${
                                                            q.statut === 'En attente' ? 'bg-yellow-100 text-yellow-700' :
                                                            q.statut === 'Approuv√©' ? 'bg-green-100 text-green-700' :
                                                            'bg-blue-100 text-blue-700'
                                                        }">
                                                            ${q.statut}
                                                        </span>
                                                    </td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            
            // Gestion des √©v√©nements
            attachEventListeners() {
                // Pas besoin d'event listeners s√©par√©s, tout est g√©r√© inline avec onclick
            },
            
            // Navigation
            goToPage(page) {
                this.currentPage = page;
                this.render();
            },
            
            selectInsurance(id) {
                this.selectedInsurance = id;
                this.currentPage = `${id}-form`;
                this.render();
            },
            
            toggleRole() {
                this.userRole = this.userRole === 'client' ? 'admin' : 'client';
                this.currentPage = this.userRole === 'admin' ? 'admin-dashboard' : 'home';
                this.render();
            },
            
            // Soumission des formulaires
            submitAutoForm() {
                this.autoForm.marque = document.getElementById('autoMarque').value;
                this.autoForm.modele = document.getElementById('autoModele').value;
                this.autoForm.annee = document.getElementById('autoAnnee').value;
                this.autoForm.puissanceFiscale = document.getElementById('autoPuissance').value;
                this.autoForm.usage = document.getElementById('autoUsage').value;
                this.autoForm.age = document.getElementById('autoAge').value;
                this.autoForm.anciennetePermis = document.getElementById('autoAnciennete').value;
                this.autoForm.bonusMalus = document.getElementById('autoBonusMalus').value;
                
                this.calculateAutoQuote();
            },
            
            submitSanteForm() {
                this.santeForm.typeCouverture = document.getElementById('santeType').value;
                this.santeForm.nombreBeneficiaires = document.getElementById('santeNombre').value;
                this.santeForm.ageAssure = document.getElementById('santeAge').value;
                this.santeForm.maladiesChroniques = document.getElementById('santeMaladies').value;
                
                this.calculateSanteQuote();
            },
            
            submitHabitationForm() {
                this.habitationForm.typeLogement = document.getElementById('habitationType').value;
                this.habitationForm.superficie = document.getElementById('habitationSuperficie').value;
                this.habitationForm.valeurBiens = document.getElementById('habitationValeur').value;
                this.habitationForm.systemeSecurite = document.getElementById('habitationSecurite').value;
                
                this.calculateHabitationQuote();
            },
            
            submitVoyageForm() {
                this.voyageForm.destination = document.getElementById('voyageDestination').value;
                this.voyageForm.duree = document.getElementById('voyageDuree').value;
                this.voyageForm.nombreVoyageurs = document.getElementById('voyageNombre').value;
                this.voyageForm.activitesRisque = document.getElementById('voyageRisque').value;
                
                this.calculateVoyageQuote();
            },
            
            finalizeSubscription() {
                alert('‚úÖ Souscription valid√©e !\n\nVous recevrez un SMS et un email de confirmation.\n\nUn conseiller vous contactera sous 24h.\n\nMerci de votre confiance ! üôè');
                this.currentPage = 'home';
                this.render();
            }
        };

        // Rendre accessible globalement
        window.app = App;

        // Initialiser l'application
        App.render();
    </script>
</body>
</html>
